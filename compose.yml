services:
  api:
    image: steamgameupdates
    ports:
      - "8080:8080"
    networks:
      - back-tier
    # depends_on:
    #   backend:
    #     condition: service_healthy

  backend:
    image: steamwebpipes
    ports:
      - "8181:8181"
    # volumes:
    # - db-data:/etc/data
    networks:
      - back-tier
    # healthcheck:
    #   test: [ "CMD", "ping", "-c", "2", "0.0.0.0:8181" ]
    #   interval: 5s
    #   timeout: 5s
    #   retries: 5
networks:
  # The presence of these objects is sufficient to define them
  # front-tier: {}
  back-tier: {}

# volumes:
#   db-data:
#     driver: flocker
#     driver_opts:
#       size: "10GiB"

# configs:
#   httpd-config:
#     external: true

# secrets:
#   server-certificate:
#     external: true
